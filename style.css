:root{
  --tile-w: 140px;
  --tile-h: 48px;

  --bg: #f6f8fb;
  --card: #ffffff;
  --ink: #0f172a;
  --muted: #475569;
  --line: #e5e7eb;

  --accent: #3b82f6;
  --accent-weak: #dbeafe;

  --drop: #cfd8e3;
  --drop-bg: #fafbfc;
  --error: #ffbaba;
  --error-bg: #ffecec;
}

*{ box-sizing: border-box; }
html, body{
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--ink);
  font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans";
}

main.app{ max-width: 1100px; margin: 24px auto 64px; padding: 0 16px; }
header{ margin-bottom: 12px; }
h1{ margin: 0 0 8px; font-size: 1.6rem; font-weight: 800; }
.subtitle{ color: var(--muted); margin: 0 0 18px; font-size: .95rem; }

.toolbar{ display: flex; gap: 12px; align-items: center; }
#timer{ font-weight: 800; color: var(--accent); background: var(--card); border: 1px solid var(--line); padding: 6px 10px; border-radius: 10px; min-width: 64px; text-align: center;}
.btn{ appearance:none; border:1px solid var(--line); background:var(--card); padding:8px 12px; border-radius:12px; cursor:pointer; }
.btn:hover{ border-color: var(--accent); }

#titles{
  display: grid;
  gap: 10px;
  margin: 8px 0 10px;
}
#titles > div{
  width: var(--tile-w);
  text-align: center;
  font-weight: 700;
  color: var(--muted);
}

#grid{ display: grid; gap: 10px; margin-bottom: 18px; }
.grid-row{ display: flex; gap: 10px; }

.dropcell{
  width: var(--tile-w);
  height: var(--tile-h);
  border: 2px dashed var(--drop);
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: var(--drop-bg);
  transition: background .15s ease, transform .05s ease, border-color .15s ease;
}

.dropcell.shake{
  animation: shake .25s linear 1;
  background: var(--error-bg);
  border-color: var(--error);
}
@keyframes shake {
  0%{ transform: translateX(0) }
  25%{ transform: translateX(-2px) }
  50%{ transform: translateX(2px) }
  75%{ transform: translateX(-1px) }
  100%{ transform: translateX(0) }
}

#pool{
  display: flex; flex-wrap: wrap; gap: 12px;
  align-items: flex-start; justify-content: flex-start;
  margin: 6px 0 10px; padding: 10px;
  background: var(--card); border: 1px solid var(--line);
  border-radius: 14px; box-shadow: 0 1px 2px rgba(0,0,0,.05);
}

.tile{
  appearance: none; border: 1px solid #ddd; background: #fff; color: var(--ink);
  font-weight: 600; font-size: 0.95rem;
  flex: 0 0 var(--tile-w); max-width: var(--tile-w); width: var(--tile-w);
  height: var(--tile-h); line-height: var(--tile-h);
  display: inline-flex; align-items: center; justify-content: center; gap: 8px;
  padding: 0 10px; border-radius: 12px; cursor: grab; user-select: none;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  transition: transform .05s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.tile:hover{ border-color: var(--accent); box-shadow: 0 2px 6px rgba(59,130,246,.15); }
.tile:focus-visible{ outline: 3px solid var(--accent-weak); outline-offset: 2px; }
.tile.dragging{ opacity: .9; cursor: grabbing; width: var(--drag-w, var(--tile-w)); height: var(--drag-h, var(--tile-h)); }
.tile.placed{ cursor: default; background: #f4f8ff; border-color: #cfe0ff; }

.tile .speak{ border:none; background: transparent; cursor:pointer; font-size: 1rem; line-height: 1; }
.tile .speak:focus-visible{ outline: 2px solid var(--accent-weak); border-radius: 6px; }

#status{ margin: 8px 2px 0; font-weight: 700; color: var(--accent); }
.section{ margin: 12px 0 18px; }

@media (max-width: 900px){
  :root{ --tile-w: 120px; --tile-h: 44px; }
}
@media (max-width: 640px){
  :root{ --tile-w: 108px; --tile-h: 40px; }
  #titles{ gap: 8px; }
  .grid-row{ gap: 8px; }
  #pool{ gap: 10px; padding: 8px; }
}